{"ast":null,"code":"import _asyncToGenerator from \"/Users/marinemichelot/Desktop/Aston/P1/gitcant/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/menu.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"../service/meal.service\";\nimport * as i5 from \"../service/constraint.service\";\nimport * as i6 from \"@angular/common\";\n\nfunction HomepageComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelementStart(1, \"h3\", 18);\n    i0.ɵɵtext(2, \" Il n'y a pas de Menu pour la semaine \");\n    i0.ɵɵelement(3, \"i\", 19);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵtext(6, \" Reviens plus tard ou pioche dans la carte !\");\n    i0.ɵɵelement(7, \"i\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomepageComponent_article_18_h4_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const day_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", day_r3.name, \" \");\n  }\n}\n\nfunction HomepageComponent_article_18_li_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵelement(1, \"img\", 33);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const day_r3 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", day_r3.image64[0].image64, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction HomepageComponent_article_18_li_3_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵelement(1, \"img\", 33);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const day_r3 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", day_r3.image64[1].image64, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction HomepageComponent_article_18_li_3_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function HomepageComponent_article_18_li_3_div_9_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const plat_r7 = i0.ɵɵnextContext().$implicit;\n      const day_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.onAddMenuToBucket(plat_r7, day_r3.date);\n    });\n    i0.ɵɵtext(2, \"Ajouter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomepageComponent_article_18_li_3_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"button\", 35);\n    i0.ɵɵtext(2, \" Ajouter \");\n    i0.ɵɵelementStart(3, \"span\", 36);\n    i0.ɵɵelement(4, \"i\", 37);\n    i0.ɵɵtext(5, \" ATTENTION \");\n    i0.ɵɵelement(6, \"i\", 37);\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8, \" Toute commande dois etre prise \");\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵtext(10, \" avant 10h30 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomepageComponent_article_18_li_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 26);\n    i0.ɵɵtemplate(1, HomepageComponent_article_18_li_3_div_1_Template, 2, 1, \"div\", 27);\n    i0.ɵɵtemplate(2, HomepageComponent_article_18_li_3_ng_template_2_Template, 2, 1, \"ng-template\", null, 28, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementStart(4, \"div\", 29);\n    i0.ɵɵelementStart(5, \"h3\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, HomepageComponent_article_18_li_3_div_9_Template, 3, 0, \"div\", 30);\n    i0.ɵɵtemplate(10, HomepageComponent_article_18_li_3_ng_template_10_Template, 11, 0, \"ng-template\", null, 31, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const plat_r7 = ctx.$implicit;\n\n    const _r9 = i0.ɵɵreference(3);\n\n    const _r12 = i0.ɵɵreference(11);\n\n    const day_r3 = i0.ɵɵnextContext().$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", day_r3.image64[0].idPlats == plat_r7.id)(\"ngIfElse\", _r9);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(plat_r7.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", plat_r7.priceDF, \" cr\\u00E9dits\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", day_r3.date == ctx_r5.today && (ctx_r5.todayHours == ctx_r5.maxHours && ctx_r5.todayMinutes < ctx_r5.maxMinutes || ctx_r5.todayHours < ctx_r5.maxHours))(\"ngIfElse\", _r12);\n  }\n}\n\nfunction HomepageComponent_article_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"article\", 21);\n    i0.ɵɵtemplate(1, HomepageComponent_article_18_h4_1_Template, 2, 1, \"h4\", 22);\n    i0.ɵɵelementStart(2, \"ul\", 23);\n    i0.ɵɵtemplate(3, HomepageComponent_article_18_li_3_Template, 12, 6, \"li\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const day_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", day_r3.plats.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", day_r3.plats);\n  }\n}\n\nfunction HomepageComponent_li_24_li_5_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function HomepageComponent_li_24_li_5_ng_container_6_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const item_r23 = i0.ɵɵnextContext().$implicit;\n      const category_r21 = i0.ɵɵnextContext().$implicit;\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.addItemToBucket(category_r21[0].name, item_r23, item_r23.id);\n    });\n    i0.ɵɵelement(2, \"i\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nfunction HomepageComponent_li_24_li_5_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 48);\n    i0.ɵɵlistener(\"click\", function HomepageComponent_li_24_li_5_ng_template_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r33);\n      const item_r23 = i0.ɵɵnextContext().$implicit;\n      const category_r21 = i0.ɵɵnextContext().$implicit;\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.addItemToBucket(category_r21[0].name, item_r23, item_r23.id);\n    });\n    i0.ɵɵelement(1, \"i\", 15);\n    i0.ɵɵelementStart(2, \"span\", 36);\n    i0.ɵɵelement(3, \"i\", 37);\n    i0.ɵɵtext(4, \" ATTENTION \");\n    i0.ɵɵelement(5, \"i\", 37);\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵtext(7, \" Toute commande dois etre prise \");\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵtext(9, \" avant 10h30 \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction HomepageComponent_li_24_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 42);\n    i0.ɵɵelementStart(1, \"div\", 43);\n    i0.ɵɵelementStart(2, \"h5\", 44);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\", 45);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, HomepageComponent_li_24_li_5_ng_container_6_Template, 3, 0, \"ng-container\", 30);\n    i0.ɵɵtemplate(7, HomepageComponent_li_24_li_5_ng_template_7_Template, 10, 0, \"ng-template\", null, 46, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r23 = ctx.$implicit;\n\n    const _r25 = i0.ɵɵreference(8);\n\n    const ctx_r22 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r23.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", item_r23.priceDF, \" cr\\u00E9dit(s)\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r22.todayHours == ctx_r22.maxHours && ctx_r22.todayMinutes < ctx_r22.maxMinutes || ctx_r22.todayHours < ctx_r22.maxHours)(\"ngIfElse\", _r25);\n  }\n}\n\nfunction HomepageComponent_li_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"div\", 38);\n    i0.ɵɵelementStart(2, \"h4\", 39);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ul\", 40);\n    i0.ɵɵtemplate(5, HomepageComponent_li_24_li_5_Template, 9, 4, \"li\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const category_r21 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(category_r21[0].name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", category_r21[0][\"items\"]);\n  }\n}\n\nexport let HomepageComponent = /*#__PURE__*/(() => {\n  class HomepageComponent {\n    //-------------------- CONSTRUCTEUR ------------------------\n    constructor(menuService, router, toastr, mealService, constraintService) {\n      this.menuService = menuService;\n      this.router = router;\n      this.toastr = toastr;\n      this.mealService = mealService;\n      this.constraintService = constraintService;\n      this.days = [{\n        'id': 0,\n        'name': \"Lundi\",\n        'date': \"\",\n        'plats': [],\n        'image64': [{\n          'idPlats': 0,\n          'image64': \"\"\n        }, {\n          'idPlats': 0,\n          'image64': \"\"\n        }]\n      }, {\n        'id': 1,\n        'name': \"Mardi\",\n        'date': \"\",\n        'plats': [],\n        'image64': [{\n          'idPlats': 0,\n          'image64': \"\"\n        }, {\n          'idPlats': 0,\n          'image64': \"\"\n        }]\n      }, {\n        'id': 2,\n        'name': \"Mercredi\",\n        'date': \"\",\n        'plats': [],\n        'image64': [{\n          'idPlats': 0,\n          'image64': \"\"\n        }, {\n          'idPlats': 0,\n          'image64': \"\"\n        }]\n      }, {\n        'id': 3,\n        'name': \"Jeudi\",\n        'date': \"\",\n        'plats': [],\n        'image64': [{\n          'idPlats': 0,\n          'image64': \"\"\n        }, {\n          'idPlats': 0,\n          'image64': \"\"\n        }]\n      }, {\n        'id': 4,\n        'name': \"Vendredi\",\n        'date': \"\",\n        'plats': [],\n        'image64': [{\n          'idPlats': 0,\n          'image64': \"\"\n        }, {\n          'idPlats': 0,\n          'image64': \"\"\n        }]\n      }];\n      this.categories = [];\n      this.isInsert = false;\n      this.category0 = [{\n        id: 0,\n        name: 'Autres',\n        items: []\n      }];\n      this.category1 = [{\n        id: 1,\n        name: 'Apéritif',\n        items: []\n      }];\n      this.category2 = [{\n        id: 2,\n        name: 'Entrée',\n        items: []\n      }];\n      this.category3 = [{\n        id: 3,\n        name: 'Plats Principaux',\n        items: []\n      }];\n      this.category4 = [{\n        id: 4,\n        name: 'Les A-Cotés',\n        items: []\n      }];\n      this.category5 = [{\n        id: 5,\n        name: 'Les Desserts',\n        items: []\n      }];\n      this.category6 = [{\n        id: 6,\n        name: 'Brunchs et Dejeuners',\n        items: []\n      }];\n      this.category7 = [{\n        id: 7,\n        name: 'Soupes et Potages',\n        items: []\n      }];\n      this.category8 = [{\n        id: 8,\n        name: 'Sauce et Vinaigrettes',\n        items: []\n      }];\n      this.category9 = [{\n        id: 9,\n        name: 'Boissons et Cocktails',\n        items: []\n      }];\n      this.category10 = [{\n        id: 10,\n        name: 'Sandwichs',\n        items: []\n      }];\n      this.category11 = [{\n        id: 11,\n        name: 'Snacks',\n        items: []\n      }];\n      this.msgError = '';\n      this.bucket = [];\n      this.platsTemp = [];\n      this.plats = [];\n      this.today = \"\";\n      this.todayHours = \"\";\n      this.todayMinutes = \"\";\n      this.maxMinutes = -1;\n      this.maxHours = -1;\n    } //-------------------- ON INIT ------------------------\n\n\n    ngOnInit() {\n      //Calcul de l'heure toute les 5 minutes\n      setInterval(() => {\n        this.getTime();\n      }, 60000);\n      this.getTime();\n      this.today = new Date().toISOString().substring(0, 10); //CHARGEMENT DES PLATS DU JOUR POUR LA SEMAINE\n\n      this.onChargeWeekMenu(); //CHARGEMENT DE LA CARTE POUR LA SEMAINE\n\n      this.onChargeCarte(); //RÉCUPERATION DES DATES DE LA SEMAINE ACTUELLE\n\n      this.getDatesOfAllWeek();\n    }\n\n    getTime() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        _this.todayHours = new Date().getHours();\n        _this.todayMinutes = new Date().getMinutes();\n        _this.today = new Date().toISOString().substring(0, 10);\n        let cons = yield _this.constraintService.getConstraint(1);\n        _this.maxMinutes = parseInt(cons.orderTimeLimit.substring(3, 5));\n        _this.maxHours = parseInt(cons.orderTimeLimit.substring(0, 2));\n        console.log(\"h = \" + _this.maxHours + \" vs \" + _this.todayHours);\n        console.log(_this.todayHours);\n        console.log(_this.todayMinutes);\n      })();\n    } //-------------------- Recuperation des date des jours de la semaine actuelle ------------------------\n\n\n    getDatesOfAllWeek() {\n      let today = new Date();\n      let day = today.getDay();\n      let diff = today.getDate() - day + (day == 0 ? -6 : 1); // Ajustement si le jour J est un samedi\n      //Pour tout les jours de la semaine, calcul de la date\n\n      for (let i = 0; i < 5; i++) {\n        let tmpDate = new Date();\n        let dateOut = new Date(tmpDate.setDate(diff + i));\n        this.days[i].date = dateOut.toISOString().substring(0, 10);\n      }\n    } //----------------------- CHARGEMENT DES PLATS DU JOUR POUR LA SEMAINE ACTUELLE ------------------------\n\n\n    onChargeWeekMenu() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        //RECUPERATION DE LA DATE ACTUELLE\n        let dateActuelle = new Date(); //CALCUL DU NUMÉRO DE LA SEMAINE ACTUELLE\n\n        let premierJanvier = new Date(dateActuelle.getFullYear(), 0, 1);\n        let nombreDeJourDifference = Math.floor((dateActuelle - premierJanvier) / (24 * 60 * 60 * 1000));\n        let numSemaineActuelle = Math.ceil((dateActuelle.getDay() + 1 + nombreDeJourDifference) / 7); //REQUETE ASYNCHRONE DE RECUPERATION DES PLATS DU JOUR POUR LA SEMAINE ACTUELLE\n\n        try {\n          //REQUETE AU SERVICE MENU\n          _this2.Menus = yield _this2.menuService.getWeekMenu(numSemaineActuelle); //Pour tout les menus de la semaine recuperés si le menu est un meal\n\n          _this2.Menus.forEach(Menu => {\n            if (Menu.meals) {\n              //Alors on tris et on reforme un array\n              Menu.meals.forEach(meal => {\n                if (meal) {\n                  let tmp = meal; // ON PUSH TOUT LES PLATS RELIES AU MENU DANS UN TABLEAU TEMPORAIRE\n\n                  _this2.platsTemp.push(tmp);\n                }\n              });\n            }\n          }); // TRIER LES DOUBLONS\n\n\n          let cache = {};\n          _this2.plats = _this2.platsTemp.filter(function (elem, index, array) {\n            return cache[elem.id] ? 0 : cache[elem.id] = 1;\n          }); // REPARTIR LES PLATS CHOISIS DANS LE TABLEAU DES JOURS\n\n          _this2.plats.forEach(meal => {\n            if (meal.description) {\n              if (meal.description.includes('0')) {\n                _this2.getImageMeal(meal.id, 0);\n\n                _this2.days[0].plats.push(meal);\n              }\n\n              if (meal.description.includes('1')) {\n                _this2.getImageMeal(meal.id, 1);\n\n                _this2.days[1].plats.push(meal);\n              }\n\n              if (meal.description.includes('2')) {\n                _this2.getImageMeal(meal.id, 2);\n\n                _this2.days[2].plats.push(meal);\n              }\n\n              if (meal.description.includes('3')) {\n                _this2.getImageMeal(meal.id, 3);\n\n                _this2.days[3].plats.push(meal);\n              }\n\n              if (meal.description.includes('4')) {\n                _this2.getImageMeal(meal.id, 4);\n\n                _this2.days[4].plats.push(meal);\n              }\n            }\n          });\n        } catch (error) {\n          //GESTION DES ERREURS ET MESSAGES D'ERREURS\n          if (error['status'] == 401) {\n            _this2.showBadToaster(\"Mais Chef ! T'es plus connecté :( ... Reviens :D ! \");\n          } else {\n            _this2.showBadToaster('Chef, chef ! On a un problème :( ' + error['status'] + ' ' + error.error['exceptionMessage']);\n          }\n        }\n      })();\n    }\n\n    getImageMeal(mealId, day) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        const mealImage = yield _this3.mealService.findMealImage(mealId);\n\n        if (_this3.days[day].image64[0].image64 === \"\") {\n          _this3.days[day].image64[0].idPlats = mealId;\n          _this3.days[day].image64[0].image64 = mealImage.image64;\n        } else {\n          _this3.days[day].image64[1].idPlats = mealId;\n          _this3.days[day].image64[1].image64 = mealImage.image64;\n        }\n      })();\n    } //--------------------------- CHARGEMENT DE LA CARTE DES MEALS AVAILABLE FOR TODAY ----------------------\n\n\n    onChargeCarte() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        //REQUETE ASYNCHRONE DE RECUPERATION DE LA CARTE DISPONIBLE POUR CE JOUR\n        try {\n          //REQUETE AU SERVICE MENU\n          _this4.getCarte = yield _this4.menuService.getCarte(); //FOREACH DU RESULTAT POUR TRIER LES ELEMENTS DE LA CARTE PAR CATEGORIE\n\n          _this4.getCarte.forEach(element => {\n            switch (element.category) {\n              case 0:\n                _this4.category0[0]['items'].push(element);\n\n                break;\n\n              case 1:\n                _this4.category1[0]['items'].push(element);\n\n                break;\n\n              case 2:\n                _this4.category2[0]['items'].push(element);\n\n                break;\n\n              case 3:\n                _this4.category3[0]['items'].push(element);\n\n                break;\n\n              case 4:\n                _this4.category4[0]['items'].push(element);\n\n                break;\n\n              case 5:\n                _this4.category5[0]['items'].push(element);\n\n                break;\n\n              case 6:\n                _this4.category6[0]['items'].push(element);\n\n                break;\n\n              case 7:\n                _this4.category7[0]['items'].push(element);\n\n                break;\n\n              case 8:\n                _this4.category8[0]['items'].push(element);\n\n                break;\n\n              case 9:\n                _this4.category9[0]['items'].push(element);\n\n                break;\n\n              case 10:\n                _this4.category10[0]['items'].push(element);\n\n                break;\n\n              case 11:\n                _this4.category11[0]['items'].push(element);\n\n                break;\n            }\n          }); //AJOUT DES CATEGORIES DANS UN TABLEAU SI ELLES NE SONT PAS VIDES\n\n\n          if (_this4.category0[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category0);\n          }\n\n          if (_this4.category1[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category1);\n          }\n\n          if (_this4.category2[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category2);\n          }\n\n          if (_this4.category3[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category3);\n          }\n\n          if (_this4.category4[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category4);\n          }\n\n          if (_this4.category5[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category5);\n          }\n\n          if (_this4.category6[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category6);\n          }\n\n          if (_this4.category7[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category7);\n          }\n\n          if (_this4.category8[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category8);\n          }\n\n          if (_this4.category9[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category9);\n          }\n\n          if (_this4.category10[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category10);\n          }\n\n          if (_this4.category11[0]['items'].length >= 1) {\n            _this4.categories.push(_this4.category11);\n          }\n        } catch (error) {\n          //GESTION DES ERREURS ET MESSAGES D'ERREURS\n          if (error['status'] == 401) {\n            _this4.showBadToaster(\"Mais Chef ! T'es plus connecté :( ... Reviens :D ! \");\n          } else {\n            _this4.showBadToaster('Chef, chef ! On a un problème :( ' + error['status'] + ' ' + error.error['exceptionMessage']);\n          }\n        }\n      })();\n    } //------------------------ AJOUTER UN MENU AU PANIER ----------------------------------------------\n\n\n    onAddMenuToBucket(plat, date) {\n      // onAddMenuToBucket(menuId:number)\n      console.log(plat); //FOREACH ELEMENT DU PANIER, SI L'ELEMENT == L'ELEMENT RECU EN PARAMETRE ALORS AJOUT AU PANIER\n\n      let bucketLocalStorage = localStorage.getItem('bucket');\n      this.bucket = JSON.parse(bucketLocalStorage);\n      this.isInsert = false; //Si le panier est vide alors on crée un objet meal et on le push directement\n\n      if (this.bucket == null) {\n        this.bucket = [];\n        let quantite = 1;\n        let ObjetItemToAdd = [{\n          name: \"plat du jour\",\n          quantite: quantite\n        }, plat];\n        this.bucket.push(ObjetItemToAdd);\n      } else {\n        //sinon, chercher dans le panier si l'element existe deja\n        this.bucket.forEach(meal => {\n          //Si oui, on ajoute seulement 1 à la quantite\n          if (meal[1].id == plat.id) {\n            this.isInsert = true;\n            meal[0].quantite = meal[0].quantite + 1;\n          }\n        }); //Si l'element n'a pas été trouvé alors on le crée et on le push\n\n        if (!this.isInsert) {\n          let quantite = 1;\n          let ObjetItemToAdd = [{\n            name: \"plat du jour\",\n            quantite: quantite\n          }, plat];\n          this.bucket.push(ObjetItemToAdd);\n        }\n      } //Suppression du panier déjà enregistré dans la local storage et enregistrement du nouveau panier\n\n\n      localStorage.removeItem('bucket');\n      let bucket = JSON.stringify(this.bucket);\n      localStorage.setItem('bucket', bucket);\n      this.showGoodToaster('Article ajouté au panier Chef ! ( Super choix , entre nous ) ;)');\n    } //--------------------------- AJOUTER UN ELEMENT DE LA CARTE AU PANIER -----------------------------------\n\n\n    addItemToBucket(categoryName, item, itemId) {\n      //FOREACH ELEMENT DU PANIER, SI L'ELEMENT == L'ELEMENT RECU EN PARAMETRE ALORS AJOUT AU PANIER\n      let bucketLocalStorage = localStorage.getItem('bucket');\n      this.bucket = JSON.parse(bucketLocalStorage);\n      this.isInsert = false;\n      console.log(item); //Si le panier est vide alors on crée un objet meal et on le push directement\n\n      if (this.bucket == null) {\n        this.bucket = [];\n        let quantite = 1;\n        let ObjetItemToAdd = [{\n          name: categoryName,\n          quantite: quantite\n        }, item];\n        this.bucket.push(ObjetItemToAdd);\n      } else {\n        //sinon, chercher dans le panier si l'element existe deja\n        this.bucket.forEach(meal => {\n          //Si oui, on ajoute seulement 1 à la quantite\n          if (meal[1].id == itemId) {\n            this.isInsert = true;\n            meal[0].quantite = meal[0].quantite + 1;\n          }\n        }); //Si l'element n'a pas été trouvé alors on le crée et on le push\n\n        if (!this.isInsert) {\n          let quantite = 1;\n          let ObjetItemToAdd = [{\n            name: categoryName,\n            quantite: quantite\n          }, item];\n          this.bucket.push(ObjetItemToAdd);\n        }\n      } //Suppression du panier déjà enregistré dans la local storage et enregistrement du nouveau panier\n\n\n      localStorage.removeItem('bucket');\n      let bucket = JSON.stringify(this.bucket);\n      localStorage.setItem('bucket', bucket);\n      this.showGoodToaster('Article ajouté au panier Chef ! ;)');\n    } //---------------------------- REDIRECTION SUR LE BUCKET -------------------------------------------------\n\n\n    onGoToBucket() {\n      this.router.navigate(['bucket']);\n    } //----------------------------- FONCTIONS DES TOASTER ---------------------------------------------------\n\n\n    showGoodToaster(message) {\n      this.toastr.success(message);\n    }\n\n    showBadToaster(message) {\n      this.toastr.error(message);\n    }\n\n    showCleverToaster(message) {\n      this.toastr.info(message);\n    }\n\n  }\n\n  HomepageComponent.ɵfac = function HomepageComponent_Factory(t) {\n    return new (t || HomepageComponent)(i0.ɵɵdirectiveInject(i1.MenuService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.MealService), i0.ɵɵdirectiveInject(i5.ConstraintService));\n  };\n\n  HomepageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomepageComponent,\n    selectors: [[\"app-homepage\"]],\n    decls: 30,\n    vars: 3,\n    consts: [[1, \"contain-homepage\"], [1, \"sect-header\"], [1, \"sect-homepage\"], [1, \"fadein\"], [1, \"contain-all-food\"], [1, \"contain-plats\"], [1, \"title-carte\"], [\"class\", \"div-err\", 4, \"ngIf\"], [1, \"list-of-menus\"], [\"class\", \"contain-menu-day\", 4, \"ngFor\", \"ngForOf\"], [1, \"contain-carte\"], [1, \"category-carte\"], [4, \"ngFor\", \"ngForOf\"], [1, \"fixed-btn\"], [1, \"btn\", \"bucket\", 3, \"click\"], [1, \"fas\", \"fa-shopping-cart\"], [1, \"tooltiptext\", \"toolTip\"], [1, \"div-err\"], [1, \"err-msg\"], [1, \"fas\", \"fa-sad-cry\"], [1, \"fas\", \"fa-pizza-slice\"], [1, \"contain-menu-day\"], [\"class\", \"day-name\", 4, \"ngIf\"], [1, \"contain-menu\"], [\"class\", \"contain-plat-details\", 4, \"ngFor\", \"ngForOf\"], [1, \"day-name\"], [1, \"contain-plat-details\"], [\"class\", \"contain-img-plat\", 4, \"ngIf\", \"ngIfElse\"], [\"autreImage\", \"\"], [1, \"details-plat\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseDate\", \"\"], [1, \"contain-img-plat\"], [\"alt\", \"\", 3, \"src\"], [1, \"btn\", \"add\", 3, \"click\"], [\"disabled\", \"\", 1, \"btn\", \"disabled\"], [1, \"tooltiptext\"], [1, \"fas\", \"fa-exclamation-circle\"], [1, \"contain-cat\"], [1, \"category-title\"], [1, \"list-of-meals\"], [\"class\", \"meal-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"meal-item\"], [1, \"contain-info-item\"], [1, \"meal-title\"], [1, \"meal-price\"], [\"elseHour\", \"\"], [1, \"btn\", \"add\", \"tool\", 3, \"click\"], [\"disabled\", \"\", 1, \"btn\", \"add\", \"tool\", \"disabled\", 3, \"click\"]],\n    template: function HomepageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"main\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"h1\");\n        i0.ɵɵtext(3, \"Order \");\n        i0.ɵɵelement(4, \"br\");\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"span\");\n        i0.ɵɵtext(7, \"& Eat\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"section\", 2);\n        i0.ɵɵelementStart(9, \"h2\", 3);\n        i0.ɵɵtext(10, \"Menu et Carte\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 4);\n        i0.ɵɵelementStart(12, \"div\", 5);\n        i0.ɵɵelementStart(13, \"h3\", 6);\n        i0.ɵɵtext(14, \"Menu\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵtemplate(16, HomepageComponent_div_16_Template, 8, 0, \"div\", 7);\n        i0.ɵɵelementStart(17, \"div\", 8);\n        i0.ɵɵtemplate(18, HomepageComponent_article_18_Template, 4, 2, \"article\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 10);\n        i0.ɵɵelementStart(20, \"h3\", 6);\n        i0.ɵɵtext(21, \"Carte\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"section\", 11);\n        i0.ɵɵelementStart(23, \"ul\");\n        i0.ɵɵtemplate(24, HomepageComponent_li_24_Template, 6, 2, \"li\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 13);\n        i0.ɵɵelementStart(26, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function HomepageComponent_Template_button_click_26_listener() {\n          return ctx.onGoToBucket();\n        });\n        i0.ɵɵelement(27, \"i\", 15);\n        i0.ɵɵelementStart(28, \"span\", 16);\n        i0.ɵɵtext(29, \"Voir mon panier\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"ngIf\", ctx.days[0].plats.length == 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.days);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n      }\n    },\n    directives: [i6.NgIf, i6.NgForOf],\n    styles: [\".fadein[_ngcontent-%COMP%]{text-align:center;color:#175242;font-size:5em!important;text-align:end;-ms-writing-mode:tb-rl;writing-mode:vertical-rl;-webkit-text-orientation:mixed;text-orientation:mixed;animation:fadein 14s;-moz-animation:fadein 14s;-webkit-animation:fadein 14s;-o-animation:fadein 14s}@keyframes fadein{0%{opacity:0;color:#f18f01}to{opacity:1;color:#175242}}@-webkit-keyframes fadein{0%{opacity:0;color:#f18f01}to{opacity:1;color:#175242}}.sect-homepage[_ngcontent-%COMP%]{width:95%;margin:auto;display:flex;flex-direction:row-reverse;align-items:center;justify-content:space-between}.sect-header[_ngcontent-%COMP%]{background-image:url(https://freepik.cdnpk.net/img/autopromo/adobe/desktop.png);min-height:400px;background-position:bottom;background-repeat:no-repeat;background-size:cover}.sect-homepage[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#175242}h1[_ngcontent-%COMP%]{color:#0d2e25;font-size:3em;padding:3em;width:40%;text-shadow:2.8px 2.8px 2.2px rgba(0,0,0,.059),6.7px 6.7px 5.3px rgba(0,0,0,.085),12.5px 12.5px 10px rgba(0,0,0,.105),22.3px 22.3px 17.9px rgba(0,0,0,.125),41.8px 41.8px 33.4px rgba(0,0,0,.151),100px 100px 80px rgba(0,0,0,.21)}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#175242;padding:1.6em;font-size:1.5em}.contain-all-food[_ngcontent-%COMP%]{width:90%}.contain-plats[_ngcontent-%COMP%]{margin:auto;padding-bottom:3em;width:100%;display:flex}.contain-day[_ngcontent-%COMP%]{display:flex}.day-name[_ngcontent-%COMP%]{color:#175242;width:100%;text-align:center;font-size:2em;font-weight:bolder;margin-bottom:0}.err-msg[_ngcontent-%COMP%]{font-size:2.2em;color:#94073d}.div-err[_ngcontent-%COMP%]{margin:auto;width:80%;text-align:center;padding-left:18em}.list-of-menus[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.contain-menu-day[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:column;align-items:center;margin:2em}.title-menu[_ngcontent-%COMP%]{background-color:#f1f1f1;width:60%;border-radius:6px;font-size:1.2em;padding:.4em;text-align:center;color:#175242;font-weight:900}.title-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:gray;font-size:1em}.contain-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:100%;padding:0}.contain-plat[_ngcontent-%COMP%]{margin:10px}.contain-plat-details[_ngcontent-%COMP%]{background-color:rgba(241,241,241,.67);width:150px;height:250px;padding-bottom:1em;border-radius:6px;display:flex;flex-direction:column;align-items:center;justify-content:space-between;text-align:center;box-shadow:4.5px 4.5px 3.6px rgba(0,0,0,.075),12.5px 12.5px 10px rgba(0,0,0,.106),30.1px 30.1px 24.1px rgba(0,0,0,.137),100px 100px 80px rgba(0,0,0,.21)}.details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}.contain-img-plat[_ngcontent-%COMP%]{width:100%;height:100%}.contain-img-plat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;width:100%;height:100%;border-radius:6px 6px 0 0}.contain-carte[_ngcontent-%COMP%]{margin:auto;width:100%;padding-bottom:3em;display:flex;flex-direction:row}.title-carte[_ngcontent-%COMP%]{color:#f18f01;font-size:3em!important;text-align:center;-ms-writing-mode:tb-rl;writing-mode:vertical-rl;-webkit-text-orientation:upright;text-orientation:upright}.category-carte[_ngcontent-%COMP%]{width:100%}.category-carte[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;margin:auto}.category-title[_ngcontent-%COMP%]{font-size:1.5em;color:#f18f01;font-weight:600;padding:0 0 0 10px;margin:0}li[_ngcontent-%COMP%]{list-style-type:none;display:flex;flex-direction:column;justify-content:center;margin-bottom:1em;align-items:baseline}.list-of-meals[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:75%;flex-wrap:wrap}.meal-item[_ngcontent-%COMP%]{flex-direction:row;align-items:center;width:250px;height:120px;justify-content:space-around;background-color:rgba(241,241,241,.67);border-radius:6px;padding:1.4em;box-shadow:4.5px 4.5px 3.6px rgba(0,0,0,.075),12.5px 12.5px 10px rgba(0,0,0,.106),30.1px 30.1px 24.1px rgba(0,0,0,.137),100px 100px 80px rgba(0,0,0,.21)}.meal-title[_ngcontent-%COMP%]{font-size:1.5em;padding-top:1em;padding-bottom:1em;margin:0}.meal-price[_ngcontent-%COMP%]{padding-top:1em;padding-bottom:1em;margin:0}.meal-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50px;height:50px}.fa-shopping-cart[_ngcontent-%COMP%]{font-size:1.6em}.contain-cat[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:2em;margin-top:1em;align-items:baseline;width:100%;background-color:#175242;padding:15px 20px 16px;border-radius:6px}.contain-btn-cat[_ngcontent-%COMP%]{width:30%;display:flex;justify-content:space-around}.contain-btn-meal[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20%}.add[_ngcontent-%COMP%]{background-color:#f18f01;border:none;padding:.5em;min-width:20%;border-radius:6px;color:#fff;font-weight:bold;cursor:pointer}.bucket[_ngcontent-%COMP%]{background-color:#175242;height:60px;line-height:80px;width:60px;font-size:1em;border-radius:50%;color:#fff;text-align:center;cursor:pointer;display:flex;justify-content:center;align-items:center}.bucket[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{padding:.6em}.fixed-btn[_ngcontent-%COMP%]{position:fixed;bottom:0px;right:0px;padding-right:8em;padding-bottom:1em}.disabled[_ngcontent-%COMP%]{background-color:gray;border:none;padding:.5em;min-width:20%;border-radius:6px;color:#fff;font-weight:bold;cursor:not-allowed}.fa-exclamation-circle[_ngcontent-%COMP%]{color:#94073d}.tooltiptext[_ngcontent-%COMP%]{visibility:hidden;background-color:#000;color:#fff;text-align:center;padding:5px 0;border-radius:6px;position:absolute;z-index:1}.bucket[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{width:100%;top:-5px;right:105%;padding:2px;line-height:30px}.tool[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%], .bucket[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible}@media screen and (min-width: 300px) and (max-width: 1020px){.sect-homepage[_ngcontent-%COMP%]{width:98%;padding:.5em}.sect-homepage[_ngcontent-%COMP%]   H2[_ngcontent-%COMP%]{padding:.5em}.contain-menu[_ngcontent-%COMP%]{flex-direction:column}.contain-plat-details[_ngcontent-%COMP%]{flex-direction:row;width:100%;padding-bottom:0;height:150px}.contain-img-plat[_ngcontent-%COMP%]{width:50%}.contain-img-plat[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:6px 0 0 6px}.details-plat[_ngcontent-%COMP%]{width:50%;height:100%;display:flex;flex-direction:column;justify-content:space-between}.details-plat[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:1em}.details-plat[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:25%}.details-plat[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0 0 6px}.contain-carte[_ngcontent-%COMP%]{width:100%}.category-carte[_ngcontent-%COMP%]{width:100%}.category-carte[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:95%;display:flex;flex-direction:column}.category-title[_ngcontent-%COMP%]{font-size:1.2em;width:100%}.meal-item[_ngcontent-%COMP%]{flex-wrap:wrap}.contain-cat[_ngcontent-%COMP%]{flex-wrap:wrap;padding:10px 5px}.contain-btn-cat[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.contain-btn-cat[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.3em}.meal-title[_ngcontent-%COMP%]{font-size:1em}.meal-price[_ngcontent-%COMP%]{font-size:1em}.contain-btn-meal[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 300px) and (max-width: 530px){.title-carte[_ngcontent-%COMP%]{display:none}.fadein[_ngcontent-%COMP%]{display:none}.contain-menu-day[_ngcontent-%COMP%]{width:90%}.category-carte[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:80%;padding:0;margin:auto}.meal-item[_ngcontent-%COMP%]{width:150px;height:200px;flex-direction:column;text-align:center;justify-content:center}.sect-header[_ngcontent-%COMP%]{min-height:100px;max-height:150px}.sect-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1em;padding:1em}.sect-homepage[_ngcontent-%COMP%]{justify-content:center}.fixed-btn[_ngcontent-%COMP%]{padding-right:1em}}\"]\n  });\n  return HomepageComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}