{"ast":null,"code":"import _asyncToGenerator from \"/Users/marinemichelot/Desktop/Aston/P1/gitcant/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let MealService = /*#__PURE__*/(() => {\n  class MealService {\n    constructor(http) {\n      this.http = http;\n      this.url = \"http://localhost:8080/lunchtime/meal\";\n      this.tokenItem = localStorage.getItem('token');\n    } //---------------------ADD A MEAL---------------------\n\n\n    addMeal(meal) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        //REFORMULATION DE L'URL\n        let url = _this.url + \"/add\"; //FORMUALTION DU HEADER\n\n        const headers = {\n          'Authorization': _this.tokenItem,\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'accept': 'application/json'\n        }; //REQUETE API\n\n        return yield _this.http.put(url, meal, {\n          headers\n        }).toPromise();\n      })();\n    } //---------------------UPDATE A MEAL IMAGE---------------------\n\n\n    updateMealImg(mealImg, mealId) {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        //REFORMULATION DE L'URL\n        let url = _this2.url + \"/updateimg/\" + mealId; //FORMUALTION DU HEADER\n\n        const headers = {\n          'Authorization': _this2.tokenItem,\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'accept': 'application/json'\n        }; //REQUETE API\n\n        return yield _this2.http.patch(url, mealImg, {\n          headers\n        }).toPromise();\n      })();\n    } //---------------------UPDATE MEAL---------------------\n\n\n    updateMeal(meal, mealId) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        //REFORMULATION DE L'URL\n        let url = _this3.url + \"/update/\" + mealId; //FORMUALTION DU HEADER\n\n        const headers = {\n          'Authorization': _this3.tokenItem,\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'accept': 'application/json'\n        }; //REQUETE API\n\n        return yield _this3.http.patch(url, meal, {\n          headers\n        }).toPromise();\n      })();\n    } //---------------------FIND MEAL IMAGE---------------------\n\n\n    findMealImage(mealId) {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        //REFORMULATION DE L'URL\n        let url = _this4.url + \"/findimg/\" + mealId; //FORMUALTION DU HEADER\n\n        const headers = {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'accept': 'application/json'\n        }; //REQUETE API\n\n        return yield _this4.http.get(url, {\n          headers\n        }).toPromise();\n      })();\n    } //---------------------FIND MEAL AVAILABLE FOR WEEK---------------------\n\n\n    findAvailableForWeek(weekNumber) {\n      var _this5 = this;\n\n      return _asyncToGenerator(function* () {\n        //REFORMULATION DE L'URL\n        let url = _this5.url + \"/findallavailableforweek/\" + weekNumber; //FORMUALTION DU HEADER\n\n        const headers = {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'accept': 'application/json'\n        }; //REQUETE API\n\n        return yield _this5.http.get(url, {\n          headers\n        }).toPromise();\n      })();\n    } //---------------------FIND MEAL AVAILABLE FOR TODAY---------------------\n\n\n    findAvailableForToday() {\n      var _this6 = this;\n\n      return _asyncToGenerator(function* () {\n        //REFORMULATION DE L'URL\n        let url = _this6.url + \"/findallavailablefortoday\"; //FORMUALTION DU HEADER\n\n        const headers = {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'accept': 'application/json'\n        }; //REQUETE API\n\n        return yield _this6.http.get(url, {\n          headers\n        }).toPromise();\n      })();\n    } //---------------------FIND ALL---------------------\n\n\n    findAll() {\n      var _this7 = this;\n\n      return _asyncToGenerator(function* () {\n        //REFORMULATION DE L'URL\n        var url = _this7.url + \"/findall/\"; //FORMUALTION DU HEADER\n\n        const headers = {\n          'Authorization': _this7.tokenItem,\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'accept': 'application/json'\n        }; //REQUETE API\n\n        return yield _this7.http.get(url, {\n          headers\n        }).toPromise();\n      })();\n    } //---------------------FIND A MEAL---------------------\n\n\n    findAMeal(mealId) {\n      var _this8 = this;\n\n      return _asyncToGenerator(function* () {\n        //REFORMULATION DE L'URL\n        let url = _this8.url + \"/find/\" + mealId; //FORMUALTION DU HEADER\n\n        const headers = {\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'accept': 'application/json'\n        }; //REQUETE API\n\n        return yield _this8.http.get(url, {\n          headers\n        }).toPromise();\n      })();\n    } //---------------------DELETE A MEAL---------------------\n\n\n    deleteMeal(mealId) {\n      var _this9 = this;\n\n      return _asyncToGenerator(function* () {\n        //REFORMULATION DE L'URL\n        var url = _this9.url + \"/delete/\" + mealId; //FORMUALTION DU HEADER\n\n        const headers = {\n          'Authorization': _this9.tokenItem,\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n          'accept': 'application/json'\n        }; //REQUETE API\n\n        return yield _this9.http.delete(url, {\n          headers\n        }).toPromise();\n      })();\n    }\n\n  }\n\n  MealService.ɵfac = function MealService_Factory(t) {\n    return new (t || MealService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  MealService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: MealService,\n    factory: MealService.ɵfac,\n    providedIn: 'root'\n  });\n  return MealService;\n})();","map":null,"metadata":{},"sourceType":"module"}